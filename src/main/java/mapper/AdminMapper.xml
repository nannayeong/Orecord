<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="impl.AdminImpl">
	
	<!-- 회원리스트보기 -->
	<select id="listPage" resultType="model.MemberDTO">
		SELECT * FROM member ORDER BY id DESC		
	</select>
	
	<!-- 회원정보 조회하기 -->
	<select id="memberView" resultType="model.MemberDTO" parameterType="model.MemberDTO">
		SELECT * FROM member WHERE id=#{id}
	</select>

	<!-- 회원정보 수정 -->
 	<update id="memberEdit" >
		UPDATE member SET pw=#{0}, email=#{1}, phone=#{2}, address=#{3}, intro=#{4}, img=#{5} WHERE id=#{6} 
	</update>
	
	<!-- 회원삭제 -->
	<delete id="memberDelete">
		DELETE FROM member WHERE id=#{param1}
	</delete>

	<!-- 오디오보드 리스트보기 -->
	<select id="adAudioList" resultType="model.AudioBoardDTO">
		select audio_idx, audiotitle, b.id, b.album_idx, audiofilename, artistname, albumName, regidate, imagename, category, like_count, party
			from audioboard b inner join album a on b.album_idx=a.album_idx ORDER BY audio_idx DESC
	</select>
	
	<!-- 앨범리스트 보기 -->
	<select id="adalbumList" resultType="model.AlbumDTO">
		select * from album ORDER BY album_idx DESC
	</select>
	
	<!-- 후원리스트 보기 -->
	<select id="sponsorshipList" resultType="model.SponsorshipDTO">
		SELECT * FROM sponsorshipLog ORDER BY idx DESC
	</select>
	
	<!-- 충전리스트 -->
	<select id="chargeList" resultType="model.ChargeDTO">
		SELECT * FROM chargeLog ORDER BY idx DESC
	</select>
	
	<!-- 환전리스트 -->
	<select id="exchangeList" resultType="model.ExchangeDTO">
		SELECT * FROM exchageLog ORDER BY idx DESC
	</select>
	
	<!-- 댓글리스트 -->
	<select id="mCommentList" resultType="model.MCommentDTO">
		SELECT * FROM m_comment ORDER BY comment_idx DESC
	</select>
	
	<!-- 협업리스트 -->
	<select id="partyList" resultType="model.PartyBoardDTO">
		SELECT * FROM partyboard ORDER BY party_idx DESC
	</select>
	
	<!-- 신고리스트 -->
	<select id="reportList" resultType="model.ReportDTO">
		SELECT * FROM report ORDER BY r_idx DESC
	</select>
</mapper>











